<ion-view view-title="Hello Pizza Lover">
  <ion-nav-buttons side="left">
    <button class="button back-button buttons button-clear header-item" ng-click="vm.goBack()">
      <i class="icon ion-ios-arrow-back"></i>
    </button>
  </ion-nav-buttons>
    <ion-content>
        <div>
            <brand-effect />
        </div>
        <form name="registerForm" ng-submit="vm.register()">
            <div class="padding">
                <div class="list">
                    <label class="row item item-input">
                        <i class="icon ion-ios-email placeholder-icon"></i>
                        <input type="email" name="email" ng-model="vm.username" placeholder="Email" required>
                    </label>
                    <div ng-show="registerForm.$submitted || registerForm.email.$touched" class="error-message">
                        <span ng-show="registerForm.email.$error.required">Email can not be empty</span>
                        <span ng-show="registerForm.email.$error.email">This is not a valid email</span>
                    </div>
                    <label class="row item item-input">
                        <i class="icon ion-key placeholder-icon"></i>
                        <input type="password" name="password" ng-model="vm.password" required ng-change="vm.checkConfirmPassword()" placeholder="Password">
                    </label>
                    <div ng-show="registerForm.$submitted || registerForm.password.$touched" class="error-message">
                        <span ng-show="registerForm.password.$error.required">Password can not be blank.</span>
                    </div>
                    <label class="row item item-input">
                        <i class="icon ion-refresh placeholder-icon"></i>
                        <input type="password" name="confirm_password" ng-model="vm.confirm_password" required ng-change="vm.checkConfirmPassword()" placeholder="Confirm Password">
                    </label>
                    <div ng-show="vm.error_message" class="error-message">
                        <span>{{vm.error_message}}</span>
                    </div>
                    <div class="row">
                        <button type="submit" class="button button-full button-assertive button-flat col">Sign Up</button>
                    </div>
                    <div class="row">
                    <button ui-sref="tab.auth" class="button button-full button-clear col">Already registered? login here</button>
                    </div>
                </div>
            </div>
            <div class="padding">
                <h2>Or via Facebook</h2>
                <hr>
                <button type="button" class="button icon-left ion-social-facebook button-positive button-full button-flat" ng-click="vm.loginFacebook()">
                    Login with Facebook
                </button>
            </div>
        </form>
    </ion-content>
</ion-view>
